name: Backend Unit Tests

on:
  push:
    branches:
      - "*"
  pull_request:
    branches:
      - "*"

jobs:
  backend-unit-tests:
    name: Run Backend Unit Tests
    runs-on: ubuntu-24.04

    steps:
      - name: Checkout code
        uses: actions/checkout@v5

      - name: Set up Docker Buildx
        uses: docker/setup-buildx-action@v3

      - name: Install Docker Environment
        run: |
          ./auto/install-github-action-env

      - name: Run Backend Unit Tests
        run: |
          ./auto/run-backend-unit-tests

      - name: Report test results
        if: always()
        run: |
          echo '### ðŸ§ª Backend Unit Tests Results' >> $GITHUB_STEP_SUMMARY
          echo '' >> $GITHUB_STEP_SUMMARY
          echo 'Tests completed. Check logs above for details.' >> $GITHUB_STEP_SUMMARY
